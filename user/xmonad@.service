[Unit]
Description=Xmonad window manager at display %i
After=xserver@%i.target
After=xorg@%i.service
After=vncserver@%i.service
After=x11vnc@%i.service
After=xephyr@%i.service
After=compton@%i.service
StopWhenUnneeded=true

Requires=xserver@%i.target
Requires=dbus.socket

[Service]
Type=forking
EnvironmentFile=%h/.config/systemd/conf/xenvironment
Environment=DISPLAY=:%i
ExecStart=/home/abdo/.config/systemd/scripts/xmonad start

[Install]
WantedBy=xmonad.target
